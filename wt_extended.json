{
    "system":
    {
        "global":
        {
            "delta":"0.01",
            "finaltime":"50"
        },

        "automata":
        [
            {
                "name":"Tank",
                "node":
                [
                    {
                        "name":"Tank",
                        "description":"Water's level",
                        "instructions":"x' = 0.3*a - 0.02*x;",
                        "flag":"start",
                        "transitions":
                        [
                        ]
                    }
                ],
                "variables":
                [
                    {
                        "name":"x",
                        "value":"4"
                    }
                ]
            },
            {
                "name":"Valve",
                "node":
                [
                    {
                        "name":"Opening",
                        "description":"Opening valve",
                        "instructions":"a' = 1/4;",
                        "flag":"start",
                        "transitions":
                        [
                            {
                                "to":"Opened",
                                "condition":"(a>=1)"
                            },
                            {
                                "to":"Closing",
                                "condition":"(can_close==1)"
                            }
                        ]
                    },  
                    {
                        "name":"Opened",
                        "description":"Valve is open",
                        "instructions":"a=1;",
                        "flag":"none",
                        "transitions":
                        [
                            {
                                "to":"Closing",
                                "condition":"(can_close==1)"
                            }
                        ]
                    },
                    {
                        "name":"Closing",
                        "description":"Closing valve",
                        "instructions":"a' = -1/4;",
                        "flag":"none",
                        "transitions":
                        [
                            {
                                "to":"Closed",
                                "condition":"(a<=0)"
                            },
                            {
                                "to":"Opening",
                                "condition":"(can_open==1)"
                            }

                        ]
                    },
                    {
                        "name":"Closed",
                        "description":"Valve is closed",
                        "instructions":"a=0;",
                        "flag":"none",
                        "transitions":
                        [
                            {
                                "to":"Opening",
                                "condition":"(can_open==1)"
                            }
                        ]
                    }

                ],
                "variables":
                [
                    {
                        "name":"a",
                        "value":"0"
                    },
                    {
                        "name":"can_open",
                        "value":"0"
                    },
                    {
                        "name":"can_close",
                        "value":"0"
                    }
                ]
            },
            {
                "name":"Controller",
                "node":
                [
                    {
                        "name":"Rising",
                        "description":"Level is Rising",
                        "instructions":"can_open=1;can_close=0;",
                        "flag":"start",
                        "transitions":
                        [
                            {
                                "to":"Falling",
                                "condition":"(x>=7.65)"
                            }
                        ]
                    },  
                    {
                        "name":"Falling",
                        "description":"Level is Falling",
                        "instructions":"can_close=1;can_open=0;",
                        "flag":"none",
                        "transitions":
                        [
                            {
                                "to":"Rising",
                                "condition":"(x<=5.85)"
                            }
                        ]
                    }
                ],
                "variables":
                [
                ]
            },
            {
                "name":"Weather",
                "node":[
                    {
                      "name":"Increasing",
                      "description":"Rain is increasing",
                      "instructions":"",
                      "flag":"none",
                      "transitions":[
                        {
                            "to":"",
                            "condition":""
                        }
                      ]
                    },
                    {
                        "name":"Decreasing",
                        "description":"Rain is decreasing",
                        "instructions":"",
                        "flag":"none",
                        "transitions":[
                          {
                              "to":"",
                              "condition":""
                          }
                        ]
                      },
                      {
                        "name":"FullRain",
                        "description":"Fully raining",
                        "instructions":"",
                        "flag":"none",
                        "transitions":[
                          {
                              "to":"",
                              "condition":""
                          }
                        ]
                      },
                      {
                        "name":"FullSun",
                        "description":"Sunny",
                        "instructions":"",
                        "flag":"none",
                        "transitions":[
                          {
                              "to":"",
                              "condition":""
                          }
                        ]
                      }
                ]
            }
            
        ]
    }
}